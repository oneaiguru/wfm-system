(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f086aec8"],{"0160":function(t,e,s){},1914:function(t,e,s){},"1e06":function(t,e,s){"use strict";s("14d9");var i=s("58df"),n=s("9d26"),a=s("7560"),r=s("a9ad");const o=Object(i["a"])(r["a"],a["a"]);e["a"]=o.extend().extend({name:"v-timeline-item",inject:["timeline"],props:{color:{type:String,default:"primary"},fillDot:Boolean,hideDot:Boolean,icon:String,iconColor:String,large:Boolean,left:Boolean,right:Boolean,small:Boolean},computed:{hasIcon(){return!!this.icon||!!this.$slots.icon}},methods:{genBody(){return this.$createElement("div",{staticClass:"v-timeline-item__body"},this.$slots.default)},genIcon(){return this.$slots.icon?this.$slots.icon:this.$createElement(n["a"],{props:{color:this.iconColor,dark:!this.theme.isDark,small:this.small}},this.icon)},genInnerDot(){const t=this.setBackgroundColor(this.color);return this.$createElement("div",{staticClass:"v-timeline-item__inner-dot",...t},[this.hasIcon&&this.genIcon()])},genDot(){return this.$createElement("div",{staticClass:"v-timeline-item__dot",class:{"v-timeline-item__dot--small":this.small,"v-timeline-item__dot--large":this.large}},[this.genInnerDot()])},genDivider(){const t=[];return this.hideDot||t.push(this.genDot()),this.$createElement("div",{staticClass:"v-timeline-item__divider"},t)},genOpposite(){return this.$createElement("div",{staticClass:"v-timeline-item__opposite"},this.$slots.opposite)}},render(t){const e=[this.genBody(),this.genDivider()];return this.$slots.opposite&&e.push(this.genOpposite()),t("div",{staticClass:"v-timeline-item",class:{"v-timeline-item--fill-dot":this.fillDot,"v-timeline-item--before":this.timeline.reverse?this.right:this.left,"v-timeline-item--after":this.timeline.reverse?this.left:this.right,...this.themeClasses}},e)}})},"3a2f":function(t,e,s){"use strict";s("9734");var i=s("4ad4"),n=s("a9ad"),a=s("16b7"),r=s("b848"),o=s("f573"),c=s("80d2"),l=s("d9bd"),u=s("58df");e["a"]=Object(u["a"])(n["a"],a["a"],r["a"],o["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:e}=this.dimensions,s=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?t.offsetLeft:t.left;let n=0;return this.top||this.bottom||s?n=i+t.width/2-e.width/2:(this.left||this.right)&&(n=i+(this.right?t.width:-e.width)+(this.right?10:-10)),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),this.calcXOverflow(n,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:e}=this.dimensions,s=!1!==this.attach?t.offsetTop:t.top;let i=0;return this.top||this.bottom?i=s+(this.bottom?t.height:-e.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=s+t.height/2-e.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),!1===this.attach&&(i+=this.pageYOffset),this.calcYOverflow(i)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(c["h"])(this.maxWidth),minWidth:Object(c["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(c["t"])(this,"activator",!0)&&Object(l["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=i["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===c["x"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"50db":function(t,e,s){"use strict";var i=s("8336"),n=s("b0af"),a=s("99d9"),r=s("169a"),o=s("2fa4"),c=function(){var t=this,e=t._self._c;return e(r["a"],{attrs:{persistent:"",width:"auto"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(n["a"],[e(a["d"],{staticClass:"text-h5"},[t._v(" "+t._s(t.title)+" ")]),e(a["c"],{staticClass:"pb-0"},[t._v(" "+t._s(t.text)+" "),t._t("default")],2),e(a["a"],[e(o["a"]),e(i["a"],{attrs:{outlined:""},on:{click:t.closeDialog}},[t._v(" "+t._s(t.$t("common.cancel"))+" ")]),e(i["a"],{attrs:{color:"primary",outlined:""},on:{click:t.accept}},[t.titleSaveButton?e("div",[t._v(" "+t._s(t.titleSaveButton)+" ")]):e("div",[t._v(" "+t._s(t.$t("common.save"))+" ")])])],1)],1)],1)},l=[],u={name:"BaseConfirmDialog",props:{title:{type:String,required:!0},titleSaveButton:{type:String},text:{type:String,required:!0},dialog:{type:Boolean,required:!0}},methods:{closeDialog(){this.$emit("closeDialog")},accept(){this.$emit("accept")}}},h=u,d=s("2877"),m=Object(d["a"])(h,c,l,!1,null,"725fd4aa",null);e["a"]=m.exports},"6f91":function(t,e,s){"use strict";var i=s("b0af"),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column flex-grow-1",staticStyle:{height:"fit-content"}},[e("div",{staticClass:"d-flex align-center py-3"},[e("div",[e("div",{staticClass:"display-1"},[t._v(t._s(t.title))])])]),e(i["a"],{staticClass:"d-flex flex-column flex-grow-1",attrs:{elevation:"2",outlined:""}},[t._t("default")],2)],1)},a=[],r={name:"BaseContainer",props:{title:String}},o=r,c=s("2877"),l=Object(c["a"])(o,n,a,!1,null,"faa08ae4",null);e["a"]=l.exports},8414:function(t,e,s){"use strict";s("0160");var i=s("58df"),n=s("7560");e["a"]=Object(i["a"])(n["a"]).extend({name:"v-timeline",provide(){return{timeline:this}},props:{alignTop:Boolean,dense:Boolean,reverse:Boolean},computed:{classes(){return{"v-timeline--align-top":this.alignTop,"v-timeline--dense":this.dense,"v-timeline--reverse":this.reverse,...this.themeClasses}}},render(t){return t("div",{staticClass:"v-timeline",class:this.classes},this.$slots.default)}})},9734:function(t,e,s){},a3d0:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("base-title",{attrs:{title:t.$t("requests.pageTitle")}},[e("component-request-list")],1)},n=[],a=s("6f91"),r=s("915d"),o=s("71a3"),c=s("c671"),l=s("fe57"),u=s("aac8"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(l["a"],{attrs:{"show-arrows":!1,"background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(o["a"],{attrs:{to:"#tabs-my-requests"}},[t._v(t._s(t.$t("requests.myRequests")))]),e(o["a"],{attrs:{to:"#tabs-available-requests"}},[t._v(t._s(t.$t("requests.commonRequests")))]),t.roles&&this.user.roles&&this.user.roles.includes(t.roles.admin)?e(o["a"],{attrs:{to:"#tabs-not-active-requests"}},[t._v(t._s(t.$t("requests.notActiveRequests")))]):t._e()],1),e(u["a"],{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e(c["a"],{attrs:{value:"tabs-my-requests"}},[e("component-tab-requests",{attrs:{settings:t.mySettings,headers:t.myHeaders,filter:t.tabEnum.MY,alert:t.$t("requests.alertMyRequests")},on:{changeSettings:t.changeSettings}})],1),e(c["a"],{attrs:{value:"tabs-available-requests"}},[e("component-tab-requests",{attrs:{settings:t.acceptableSettings,headers:t.acceptableHeaders,filter:t.tabEnum.ACCEPTABLE,alert:t.$t("requests.alertCommonRequests")},on:{changeSettings:t.changeSettings}})],1),e(c["a"],{attrs:{value:"tabs-not-active-requests"}},[e("component-tab-requests",{attrs:{settings:t.notActiveSettings,headers:t.notActiveHeaders,filter:t.tabEnum.NOT_ACTIVE,alert:t.$t("requests.alertProcessedRequests")},on:{changeSettings:t.changeSettings}})],1)],1)],1)},d=[],m=(s("14d9"),s("0798")),g=s("8336"),p=s("b0af"),f=s("99d9"),v=s("cc20"),b=s("62ad"),S=s("8fea"),_=s("ce7e"),C=s("132d"),q=s("0fd9"),y=s("2fa4"),w=s("8654"),T=s("3a2f"),A=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e(m["a"],{staticClass:"mt-2",attrs:{outlined:"",type:"info",border:"left"}},[t._v(" "+t._s(t.alert)+" ")]),e(q["a"],{staticClass:"flex-grow-0",attrs:{dense:""}},[t.$vuetify.breakpoint.mdAndUp||!t.currentReq?e(b["a"],{attrs:{cols:t.currentReq?8:12}},[e(p["a"],[e(f["d"],[e(w["a"],{staticClass:"flex-grow-1 mr-md-2",attrs:{"append-icon":"mdi-magnify","single-line":"","hide-details":"",placeholder:t.$t("common.search")},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("base-menu-settings",{attrs:{settings:t.settings},on:{changeSettings:t.changeSettings}})],1),e(S["a"],{staticClass:"flex-grow-1",attrs:{loading:t.loading,search:t.search,headers:t.headers,items:t.items,"multi-sort":"","items-per-page":t.perPage},on:{"click:row":t.setReq},scopedSlots:t._u([{key:"item.created",fn:function({item:e}){return[t._v(" "+t._s(t.formatDateTime(e.created))+" ")]}},{key:"item.name",fn:function({item:e}){return[t._v(" "+t._s(t.getLocalizedEventType(e.reqType.keyword))+" ")]}},{key:"item.reqStatus.name",fn:function({item:s}){return[e(v["a"],{class:t.getStatusStyle(),attrs:{label:"",small:"",color:t.getStatusColor(s.reqStatus)}},[t._v(t._s(t.getLocalizedReqStatusName(s.reqStatus))+" ")])]}},{key:"item.changeToDate",fn:function({item:e}){return[t._v(" "+t._s(t.formatDate(e.changeToDate))+" ")]}}],null,!1,2280007132)})],1)],1):t._e(),t.currentReq?e(b["a"],{attrs:{cols:t.$vuetify.breakpoint.mdAndUp?4:12}},[e(p["a"],{attrs:{shaped:""}},[e(f["d"],[e(q["a"],[e(b["a"],{attrs:{"align-self":"start",cols:"1"}},[e(C["a"],{attrs:{"x-large":"",left:"",color:"primary"}},[t._v(" "+t._s(t.currentReqIcon)+" ")])],1),e(b["a"],[e("span",{staticClass:"title font-weight-light"},[t._v(t._s(t.getLocalizedEventType(t.currentReq.reqType.keyword)))]),e("div",[e("span",{staticClass:"subtitle-1 font-weight-light"},[t._v(t._s(t.$t("requests.status"))+":  ")]),e(v["a"],{class:t.getStatusStyle(),attrs:{label:"",small:"",outlined:"",color:t.getStatusColor(t.currentReq.reqStatus)}},[t._v(" "+t._s(t.getLocalizedReqStatusName(t.currentReq.reqStatus))+" ")])],1),t.currentReq.acceptedSupervisorFIO?e("div",[e("span",{staticClass:"subtitle-1 font-weight-light"},[t._v(t._s(t.$t("requests.acceptedSupervisorFIO"))+": "),e("strong",[t._v(t._s(t.currentReq.acceptedSupervisorFIO))])])]):t._e()]),e(b["a"],{staticClass:"mr-3",attrs:{cols:"1"}},[e(g["a"],{attrs:{icon:""},on:{click:function(e){return t.setReq(null)}}},[e(C["a"],[t._v(t._s("mdi-close"))])],1)],1)],1)],1),e(_["a"]),e(f["c"],[e("strong",[t._v(t._s(t.currentReq.description))]),e(y["a"]),e("component-timeline",{attrs:{currentRequest:t.currentReq}})],1),e(_["a"]),e(f["a"],[e("div",[t._l(t.currentReq.actions,(function(s,i){return[e(T["a"],{key:i,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e(g["a"],t._g({attrs:{color:"primary",icon:"",outlined:""},on:{click:function(e){return t.openConfirmDialog(s)}}},{...i}),[e(C["a"],[t._v(t._s(t.getIcon(s)))])],1)]}}],null,!0)},[e("span",[t._v(t._s(t.getTip(s)))])])]})),e("base-confirm-dialog",{attrs:{dialog:t.showConfirmDialog,title:t.$t("requests.confirmDialogTitle"),text:t.confirmMessage,"title-save-button":t.actionButtonName},on:{closeDialog:function(e){return t.closeConfirmDialog()},accept:function(e){return t.confirm()}}},[e(_["a"]),e("base-comment",{model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],2)])],1)],1):t._e()],1)],1)},R=[],k=s("0eff"),x=s("490a"),$=s("8414"),O=s("1e06"),D=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[t.loading?e("div",{staticClass:"d-flex flex-grow-1 align-center justify-center"},[e(x["a"],{attrs:{indeterminate:"",color:"primary"}})],1):e("div",[e(_["a"]),t.logs&&0!==t.logs.length?e($["a"],{attrs:{"align-top":"",dense:""}},[e(O["a"],{staticClass:"mb-1",attrs:{"hide-dot":""}},[e("span",[t._v(t._s(t.$t("requests.logs")))])]),t._l(t.logs,(function(s,i){return[e(O["a"],{key:i,attrs:{color:t.getStatusColor(s.status),small:""}},[e("div",{staticClass:"wrap-timeline"},[e("div",[e("strong",[t._v(t._s(t.getStatusName(s.status)))]),e("div",{staticClass:"text-caption"},[t._v(" "+t._s(t.getData(s.date))+" ")])]),e("div",{staticStyle:{"max-width":"70%"}},[e("div",[e("strong",[t._v(t._s(s.author.fio))])]),s.comment?e("div",{staticClass:"text-caption font-italic"},[t._v('"'+t._s(s.comment)+'"')]):t._e()])])])]}))],2):t._e(),e(_["a"])],1)])},E=[],B=s("2b0e"),I=s("c1df"),j=s.n(I),L=s("2f62"),H=s("83f2");function M(t){if(t)switch(t.keyword){case H["b"].Cancelled:return"blue-grey lighten-1";case H["b"].New:return"light-blue accent-2";case H["b"].Confirmed:return"teal accent-4";case H["b"].Accepted:return"amber darken-2";case H["b"].Rejected:return"pink lighten-1"}}function F(t){if(!t)return"";{let e="requests.statuses.";switch(t.keyword){case H["b"].Cancelled:return e+"Cancelled";case H["b"].New:return e+"New";case H["b"].Confirmed:return e+"Confirmed";case H["b"].Accepted:return e+"Accepted";case H["b"].Rejected:return e+"Rejected"}}}var N,Y,P=Object(B["defineComponent"])({name:"ComponentTimeline",props:{currentRequest:null},data(){return{logs:[],loading:!1}},watch:{currentRequest:{handler(){this.getLogs()},immediate:!0,deep:!0}},methods:{...Object(L["b"])("app",["showError"]),getLogs:function(){this.currentRequest&&(this.currentRequest.logs&&this.currentRequest.logs.length>0?this.logs=this.currentRequest.logs:(this.loading=!0,k["a"].getHistory(this.currentRequest.id).then(t=>{this.currentRequest.logs=t.data,this.logs=this.currentRequest.logs}).finally(()=>{this.loading=!1})))},getData(t){return t?j()(t).format("DD.MM.YYYY HH:mm"):""},getStatusColor(t){return M(t)},getStatusName(t){return this.$t(F(t)).toString()}}}),G=P,W=(s("e671"),s("2877")),z=Object(W["a"])(G,D,E,!1,null,"0a69a528",null),V=z.exports,U=s("8de5"),J=s("50db"),X=s("ae91"),Q=s("8860"),Z=s("da13"),K=s("5d23"),tt=s("e449"),et=s("b73d"),st=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(tt["a"],{attrs:{transition:"slide-x-transition",bottom:"",right:"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:i}){return[e(g["a"],t._g(t._b({attrs:{icon:"",outlined:""}},"v-btn",i,!1),s),[e(C["a"],[t._v("mdi-cogs")])],1)]}}])},[e(Q["a"],{attrs:{outlined:""}},t._l(t.settings,(function(s,i){return e(Z["a"],{key:i,staticClass:"pa-0"},[e(K["d"],[e(et["a"],{staticClass:"pl-2 pr-2",attrs:{value:s.value,inset:"",label:s.text},on:{change:function(e){return t.updateSettings(s)}},model:{value:s.value,callback:function(e){t.$set(s,"value",e)},expression:"item.value"}})],1)],1)})),1)],1)},it=[],nt=Object(B["defineComponent"])({name:"BaseMenuSettings",props:{settings:{type:Array,required:!0}},data(){return{newSettings:[]}},mounted(){this.setSettings()},methods:{setSettings(){this.newSettings=this.settings},updateSettings(t){this.$emit("changeSettings",t)}}}),at=nt,rt=Object(W["a"])(at,st,it,!1,null,"b600857c",null),ot=rt.exports,ct=Object(B["defineComponent"])({name:"ComponentTabRequests",components:{ComponentTimeline:V,BaseDialogContent:U["a"],BaseConfirmDialog:J["a"],BaseMenuSettings:ot,BaseComment:X["a"]},props:{filter:{type:String,required:!0},headers:null,alert:null,settings:{type:Array,required:!0}},data:()=>({comment:"",search:"",currentReq:null,tab:null,currentPage:1,last_page:1,items:[],perPage:10,loading:!1,showConfirmDialog:!1,selectedAction:null,errorText:""}),mounted(){this.allRequests()},computed:{...Object(L["d"])("app",["isWeb","isMobile","isLaptop"]),currentReqIcon(){if(this.currentReq&&this.currentReq.reqType){if(this.currentReq.reqType.keyword===H["c"].SIExchange||this.currentReq.reqType.keyword===H["c"].SITransfer)return"mdi-alarm";if(this.currentReq.reqType.keyword===H["c"].VacationExchange||this.currentReq.reqType.keyword===H["c"].VacationTransfer)return"mdi-airplane";if(this.currentReq.reqType.keyword===H["c"].SickLeave)return"mdi-medical-bag";if(this.currentReq.reqType.keyword===H["c"].CompLeave)return"mdi-alarm-note-off";if(this.currentReq.reqType.keyword===H["c"].UnscheduledVacation)return"mdi-airplane"}return""},actionButtonName(){if(this.currentReq&&this.selectedAction)switch(this.selectedAction.keyword){case H["a"].Accept:return this.$t("requests.action.accept").toString();case H["a"].CancelByChief:return this.$t("requests.action.chief_cancel").toString();case H["a"].Cancel:return this.$t("requests.action.cancel").toString();case H["a"].Confirm:return this.$t("requests.action.confirm").toString();case H["a"].Reject:return this.$t("requests.action.reject").toString();default:return""}return""},confirmMessage(){if(this.currentReq&&this.selectedAction)switch(this.selectedAction.keyword){case H["a"].Accept:return this.$t("requests.confirmMessage.accept").toString();case H["a"].CancelByChief:return this.$t("requests.confirmMessage.chief_cancel").toString();case H["a"].Cancel:return this.$t("requests.confirmMessage.cancel").toString();case H["a"].Confirm:return this.$t("requests.confirmMessage.confirm").toString();case H["a"].Reject:return this.$t("requests.confirmMessage.reject").toString();default:return""}return""}},methods:{...Object(L["b"])("app",["showToast","showError","showSuccess"]),openConfirmDialog:function(t){this.selectedAction=t,this.showConfirmDialog=!0},closeConfirmDialog:function(){this.selectedAction=null,this.showConfirmDialog=!1,this.comment=""},confirm:function(){null!==this.selectedAction&&null!==this.currentReq&&(this.selectedAction.confirmationMsg=this.comment,this.postAction(this.selectedAction,this.currentReq)),this.closeConfirmDialog()},changeSettings(t){this.$emit("changeSettings",t,this.filter)},allRequests:function(){this.loading=!0,k["a"].getRequests(this.currentPage,this.perPage,this.filter).then(t=>{this.last_page=t.data.meta.total,t.data.items&&(this.items=t.data.items,null!==this.currentReq&&(this.currentReq=this.items.find(t=>t.id===this.currentReq.id)))}).catch(t=>{this.showError({description:t.response.data.description})}).finally(()=>{this.loading=!1})},formatDate:function(t){return t?j()(t).format("DD.MM.YYYY"):""},formatDateTime:function(t){return t?j()(t).format("DD.MM.YYYY HH:mm"):""},getStatusStyle(){return"text-center white--text rounded-pill font-weight-bold"},getStatusColor(t){return M(t)},setReq(t){this.currentReq=t},postAction:function(t,e){k["a"].sendAction(t,e).then(()=>{k["a"].getRequest(e.id).then(t=>{let s=t.data;this.currentReq&&this.setReq(s);let i=this.items.findIndex(t=>t.id===e.id);this.items=this.items.filter((function(t){return t.id!=e.id})),this.items.splice(i,0,s)}).catch(t=>{this.showError(t.response.data.description)})}).catch(t=>{this.showError(t.response.data.description)})},getIcon(t){switch(t.keyword){case H["a"].Accept:return"mdi-account-switch";case H["a"].CancelByChief:return"mdi-undo-variant";case H["a"].Cancel:return"mdi-close";case H["a"].Confirm:return"mdi-check";case H["a"].Reject:return"mdi-block-helper";default:return""}},getTip(t){switch(t.keyword){case H["a"].Accept:return this.$t("requests.tip.accept").toString();case H["a"].CancelByChief:return this.$t("requests.tip.chief_cancel").toString();case H["a"].Cancel:return this.$t("requests.tip.cancel").toString();case H["a"].Confirm:return this.$t("requests.tip.confirm").toString();case H["a"].Reject:return this.$t("requests.tip.reject").toString();default:return""}},getLocalizedReqStatusName(t){return this.$t(F(t)).toString()},getLocalizedEventType(t){return this.$t(Object(H["d"])(t)).toString()}}}),lt=ct,ut=Object(W["a"])(lt,A,R,!1,null,"776da906",null),ht=ut.exports,dt=s("cd49"),mt=s("270a");function gt(t){return t+"_REQUESTS"}function pt(t){return t?"requests."+t:""}function ft(){let t=[];return t.push({column:Y.created,value:!0}),t.push({column:Y.requestType,value:!0}),t.push({column:Y.status,value:!0}),t.push({column:Y.changeToDate,value:!0}),t.push({column:Y.initiatorFIO,value:!1}),t.push({column:Y.acceptedWorkerFIO,value:!1}),t.push({column:Y.acceptedSupervisorFIO,value:!1}),t.push({column:Y.authorFIO,value:!1}),t}(function(t){t["MY"]="MY",t["ACCEPTABLE"]="ACCEPTABLE",t["NOT_ACTIVE"]="NOT_ACTIVE"})(N||(N={})),function(t){t["created"]="created",t["requestType"]="requestType",t["changeToDate"]="changeToDate",t["status"]="status",t["initiatorFIO"]="initiatorFIO",t["acceptedWorkerFIO"]="acceptedWorkerFIO",t["acceptedSupervisorFIO"]="acceptedSupervisorFIO",t["authorFIO"]="authorFIO"}(Y||(Y={}));var vt=s("7fbc"),bt=Object(B["defineComponent"])({name:"ComponentRequestList",components:{ComponentTabRequests:ht},data(){return{tab:null,tabEnum:N,mySettings:[],acceptableSettings:[],notActiveSettings:[],myHeaders:[],acceptableHeaders:[],notActiveHeaders:[]}},mounted(){this.fillSettings(),dt["eventBus"].$on(vt["a"].LANGUAGE_CHANGED,t=>{setTimeout(()=>{this.setAllHeaders(),this.fillSettings()},50)}),setTimeout(()=>{this.setAllHeaders(),this.fillSettings()},50)},computed:{...Object(L["d"])("auth",["user"]),roles(){return mt["a"]}},methods:{changeSettings(t,e){this.setHeaders(e),this.setSettingsToLocalStorage(e)},fillSettings(){for(var t in N)this.getSettings(N[t])},getSettings(t){let e,s=this.getSettingsFromLocalStorage(t);switch(!s||s.length<1?(e=this.getDefaultSettings(),this.setSettingsToLocalStorage(t)):e=s,t){case N.MY:this.mySettings=e;break;case N.ACCEPTABLE:this.acceptableSettings=e;break;case N.NOT_ACTIVE:this.notActiveSettings=e;break}},setSettingsToLocalStorage(t){let e;switch(t){case N.MY:e=this.mySettings;break;case N.ACCEPTABLE:e=this.acceptableSettings;break;case N.NOT_ACTIVE:e=this.notActiveSettings;break}localStorage.setItem(gt(t),JSON.stringify(e))},getSettingsFromLocalStorage(t){let e=[],s=localStorage.getItem(gt(t));return s&&(e=JSON.parse(s),this.localizeSettingTextField(e)),e},getDefaultSettings(){let t=[],e=ft();return e.forEach(e=>{t.push({text:this.$t(pt(e.column)).toString(),key:e.column,value:e.value})}),t},setAllHeaders(){for(var t in N)this.setHeaders(N[t])},setHeaders(t){let e;switch(t){case N.MY:e=this.mySettings;break;case N.ACCEPTABLE:e=this.acceptableSettings;break;case N.NOT_ACTIVE:e=this.notActiveSettings;break}let s=[];for(var i in Y){let t=e.filter(t=>t.key===i&&t.value);t&&t.length>0&&(i===Y.requestType?s.push({text:this.$t(pt(i)).toString(),value:"name"}):i===Y.status?s.push({text:this.$t(pt(i)).toString(),value:"reqStatus.name"}):s.push({text:this.$t(pt(i)).toString(),value:i}))}switch(t){case N.MY:this.myHeaders=s;break;case N.ACCEPTABLE:this.acceptableHeaders=s;break;case N.NOT_ACTIVE:this.notActiveHeaders=s;break}},localizeSettingTextField:function(t){return t.map(t=>t.text=this.$t(pt(t.key)).toString())}}}),St=bt,_t=Object(W["a"])(St,h,d,!1,null,"110c4040",null),Ct=_t.exports,qt={components:{BaseContainer:a["a"],ComponentRequestList:Ct,BaseTitle:r["a"]}},yt=qt,wt=Object(W["a"])(yt,i,n,!1,null,null,null);e["default"]=wt.exports},c671:function(t,e,s){"use strict";var i=s("9d65"),n=s("4e82"),a=s("c3f0"),r=s("80d2"),o=s("58df");const c=Object(o["a"])(i["a"],Object(n["a"])("windowGroup","v-window-item","v-window"));var l=c.extend().extend().extend({name:"v-window-item",directives:{Touch:a["b"]},props:{disabled:Boolean,reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},value:{required:!1}},data(){return{isActive:!1,inTransition:!1}},computed:{classes(){return this.groupClasses},computedTransition(){return this.windowGroup.internalReverse?"undefined"!==typeof this.reverseTransition?this.reverseTransition||"":this.windowGroup.computedTransition:"undefined"!==typeof this.transition?this.transition||"":this.windowGroup.computedTransition}},methods:{genDefaultSlot(){return this.$slots.default},genWindowItem(){return this.$createElement("div",{staticClass:"v-window-item",class:this.classes,directives:[{name:"show",value:this.isActive}],on:this.$listeners},this.genDefaultSlot())},onAfterTransition(){this.inTransition&&(this.inTransition=!1,this.windowGroup.transitionCount>0&&(this.windowGroup.transitionCount--,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=void 0)))},onBeforeTransition(){this.inTransition||(this.inTransition=!0,0===this.windowGroup.transitionCount&&(this.windowGroup.transitionHeight=Object(r["h"])(this.windowGroup.$el.clientHeight)),this.windowGroup.transitionCount++)},onTransitionCancelled(){this.onAfterTransition()},onEnter(t){this.inTransition&&this.$nextTick(()=>{this.computedTransition&&this.inTransition&&(this.windowGroup.transitionHeight=Object(r["h"])(t.clientHeight))})}},render(t){return t("transition",{props:{name:this.computedTransition},on:{beforeEnter:this.onBeforeTransition,afterEnter:this.onAfterTransition,enterCancelled:this.onTransitionCancelled,beforeLeave:this.onBeforeTransition,afterLeave:this.onAfterTransition,leaveCancelled:this.onTransitionCancelled,enter:this.onEnter}},this.showLazyContent(()=>[this.genWindowItem()]))}});e["a"]=l.extend({name:"v-tab-item",props:{id:String},methods:{genWindowItem(){const t=l.options.methods.genWindowItem.call(this);return t.data.domProps=t.data.domProps||{},t.data.domProps.id=this.id||this.value,t}}})},e671:function(t,e,s){"use strict";s("1914")}}]);