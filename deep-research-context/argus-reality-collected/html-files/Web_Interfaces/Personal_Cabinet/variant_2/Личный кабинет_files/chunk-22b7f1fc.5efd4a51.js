(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22b7f1fc"],{"3a2f":function(t,s,e){"use strict";e("9734");var a=e("4ad4"),i=e("a9ad"),o=e("16b7"),r=e("b848"),n=e("f573"),d=e("80d2"),l=e("d9bd"),h=e("58df");s["a"]=Object(h["a"])(i["a"],o["a"],r["a"],n["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:()=>({calculatedMinWidth:0,closeDependents:!1}),computed:{calculatedLeft(){const{activator:t,content:s}=this.dimensions,e=!this.bottom&&!this.left&&!this.top&&!this.right,a=!1!==this.attach?t.offsetLeft:t.left;let i=0;return this.top||this.bottom||e?i=a+t.width/2-s.width/2:(this.left||this.right)&&(i=a+(this.right?t.width:-s.width)+(this.right?10:-10)),this.nudgeLeft&&(i-=parseInt(this.nudgeLeft)),this.nudgeRight&&(i+=parseInt(this.nudgeRight)),this.calcXOverflow(i,this.dimensions.content.width)+"px"},calculatedTop(){const{activator:t,content:s}=this.dimensions,e=!1!==this.attach?t.offsetTop:t.top;let a=0;return this.top||this.bottom?a=e+(this.bottom?t.height:-s.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=e+t.height/2-s.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),!1===this.attach&&(a+=this.pageYOffset),this.calcYOverflow(a)+"px"},classes(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY(){return this.top||this.bottom},offsetX(){return this.left||this.right},styles(){return{left:this.calculatedLeft,maxWidth:Object(d["h"])(this.maxWidth),minWidth:Object(d["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount(){this.$nextTick(()=>{this.value&&this.callActivate()})},mounted(){"v-slot"===Object(d["t"])(this,"activator",!0)&&Object(l["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate(){this.runDelay("close")},genActivatorListeners(){const t=a["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(t.focus=t=>{this.getActivator(t),this.runDelay("open")},t.blur=t=>{this.getActivator(t),this.runDelay("close")}),t.keydown=t=>{t.keyCode===d["x"].esc&&(this.getActivator(t),this.runDelay("close"))},t},genActivatorAttributes(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition(){const t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent(){return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:{[this.contentClass]:!0,menuable__content__active:this.isActive,"v-tooltip__content--fixed":this.activatorFixed},style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render(t){return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent(()=>[this.genTransition()]),this.genActivator()])}})},"4bd4":function(t,s,e){"use strict";e("14d9");var a=e("58df"),i=e("7e2b"),o=e("3206");s["a"]=Object(a["a"])(i["a"],Object(o["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const s=Object.values(t).includes(!0);this.$emit("input",!s)},deep:!0,immediate:!0}},methods:{watchInput(t){const s=t=>t.$watch("hasError",s=>{this.$set(this.errorBag,t._uid,s)},{immediate:!0}),e={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?e.shouldValidate=t.$watch("shouldValidate",a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(e.valid=s(t)))}):e.valid=s(t),e},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const s=this.inputs.find(s=>s._uid===t._uid);if(!s)return;const e=this.watchers.find(t=>t._uid===s._uid);e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==s._uid),this.inputs=this.inputs.filter(t=>t._uid!==s._uid),this.$delete(this.errorBag,s._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},5489:function(t,s,e){t.exports=e.p+"img/logo_blue.a8df73b4.png"},"6d5d":function(t,s,e){"use strict";e("f721")},9734:function(t,s,e){},"97b2":function(t,s,e){"use strict";e("fa32")},b2c5:function(t,s,e){"use strict";e.r(s);var a=e("8336"),i=e("b0af"),o=e("99d9"),r=e("132d"),n=e("0fd9"),d=e("3a2f"),l=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wrapper"},[s(i["a"],{staticClass:"text-center pa-1"},[s(n["a"],{staticClass:"header-row"},[s("img",{staticClass:"profile-img-card",attrs:{id:"profile-img",src:e("5489")}}),s("div",{staticClass:"toolbar-language"},[s("toolbar-language")],1)]),s(o["c"],[t.passwordIsExpired?s("component-change-expired-password",{attrs:{loading:t.loading,username:t.username},on:{changeExpiredPassword:t.changeExpiredPassword}}):s("component-login",{attrs:{loading:t.loading},on:{handleLogin:t.handleLogin}}),t.needShowProviders?s("div",[s("div",{staticClass:"mt-2"},[t._v(" "+t._s(t.$t("login.signInWith"))+" ")]),t._l(t.providers,(function(e,i){return[s(d["a"],{key:i,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[s(a["a"],t._g({staticClass:"ma-2",attrs:{text:"",to:"/"},on:{click:function(s){return t.signInByProvider(e)}}},{...i}),[s(r["a"],[t._v("mdi-"+t._s(e))])],1)]}}],null,!0)},[s("span",{staticClass:"font-weight-bold"},[t._v(t._s(e))])])]})),t.errorProvider?s("div",{staticClass:"error--text"},[t._v(t._s(t.errorProviderMessages))]):t._e()],2):t._e()],1),t.message?s("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(t._s(t.message))]):t._e()],1)],1)},h=[],u=(e("14d9"),e("4bd4")),c=e("8654"),p=function(){var t=this,s=t._self._c;t._self._setupProxy;return s(u["a"],{ref:"loginForm",attrs:{name:"form"},on:{submit:function(s){return s.preventDefault(),t.handleLogin.apply(null,arguments)}}},[s(c["a"],{attrs:{id:"Username",rules:t.rule,"validate-on-blur":!1,label:t.$t("login.login"),outlined:"",required:""},model:{value:t.user.username,callback:function(s){t.$set(t.user,"username",s)},expression:"user.username"}}),s(c["a"],{attrs:{id:"Password","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",rules:t.rule,type:t.showPassword?"text":"password",label:t.$t("login.password"),outlined:"",required:""},on:{"click:append":function(s){t.showPassword=!t.showPassword}},model:{value:t.user.password,callback:function(s){t.$set(t.user,"password",s)},expression:"user.password"}}),s("button",{staticClass:"v-btn v-btn--block v-btn--is-elevated v-btn--has-bg theme--light v-size--x-large primary",attrs:{disabled:t.loading}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),s("span",[t._v(t._s(t.$t("login.title")))])])],1)},g=[];class m{constructor(t,s){this.username=t,this.password=s}}var w=e("2b0e"),v=e("cd49"),f=e("7fbc"),b=Object(w["defineComponent"])({name:"ComponentLogin",props:{loading:{type:Boolean,required:!0}},data(){return{user:new m,rule:[t=>!!t||this.$t("validate.requiredField")],showPassword:!1}},mounted(){v["eventBus"].$on(f["a"].LANGUAGE_CHANGED,()=>{this.handleLanguageChange()})},methods:{handleLogin(){this.$refs.loginForm.validate(),this.$emit("handleLogin",this.user)},handleLanguageChange(){this.user.username||this.user.password?this.$refs.loginForm.validate():this.$refs.loginForm.reset()}}}),_=b,P=(e("fd60"),e("2877")),y=Object(P["a"])(_,p,g,!1,null,"20703ef6",null),x=y.exports,$=function(){var t=this,s=t._self._c;t._self._setupProxy;return s("form",{attrs:{name:"form"},on:{submit:function(s){return s.preventDefault(),t.changeExpiredPassword.apply(null,arguments)}}},[s("span",{staticClass:"text-center text-subtitle-1"},[t._v(t._s(t.username))]),s(c["a"],{attrs:{id:"oldPassword","append-icon":t.showOldPassword?"mdi-eye":"mdi-eye-off",rules:t.rule,type:t.showOldPassword?"text":"password",label:t.$t("login.oldPassword"),outlined:"",required:""},on:{"click:append":function(s){t.showOldPassword=!t.showOldPassword}},model:{value:t.oldPassword,callback:function(s){t.oldPassword=s},expression:"oldPassword"}}),s(c["a"],{attrs:{id:"Password1","append-icon":t.showPassword1?"mdi-eye":"mdi-eye-off",rules:t.rule,type:t.showPassword1?"text":"password",label:t.$t("login.newPassword"),outlined:"",required:""},on:{"click:append":function(s){t.showPassword1=!t.showPassword1}},model:{value:t.password1,callback:function(s){t.password1=s},expression:"password1"}}),s(c["a"],{attrs:{id:"Password2","append-icon":t.showPassword2?"mdi-eye":"mdi-eye-off",rules:t.rule,type:t.showPassword2?"text":"password",label:t.$t("login.confirmPassword"),outlined:"",required:""},on:{"click:append":function(s){t.showPassword2=!t.showPassword2}},model:{value:t.password2,callback:function(s){t.password2=s},expression:"password2"}}),t.passwordsNotEquals?[s("span",{staticStyle:{"text-align":"center",color:"red","margin-top":"20px"}},[t._v(t._s(t.$t("login.passwordsNotEquals")))])]:t._e(),s("button",{staticClass:"v-btn v-btn--block v-btn--is-elevated v-btn--has-bg theme--light v-size--x-large primary",attrs:{disabled:t.loading}},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"spinner-border spinner-border-sm"}),s("span",[t._v(t._s(t.$t("login.savePassword")))])])],2)},C=[],k=Object(w["defineComponent"])({name:"ComponentLogin",props:{loading:{type:Boolean,required:!0},username:{type:String,required:!0}},data(){return{oldPassword:"",password1:"",password2:"",rule:[t=>!!t||this.$t("validate.requiredField")],showOldPassword:!1,showPassword1:!1,showPassword2:!1,passwordsNotEquals:!1}},methods:{changeExpiredPassword(){this.$validator.validateAll().then(t=>{this.password1===this.password2?(this.passwordsNotEquals=!1,this.$emit("changeExpiredPassword",this.oldPassword,this.password1)):this.passwordsNotEquals=!0})}}}),E=k,O=(e("97b2"),Object(P["a"])(E,$,C,!1,null,"5878ba5a",null)),B=O.exports,A=e("dec9"),L=e("4ee7"),S=e("39f0"),I={name:"Login",components:{ComponentLogin:x,ComponentChangeExpiredPassword:B,ToolbarLanguage:L["a"]},data(){return{availableProviders:[],errorProvider:!1,errorProviderMessages:"",loading:!1,passwordIsExpired:!1,message:"",showPassword:!1,username:"",rules:{required:t=>t&&Boolean(t)||"Поле должно быть заполнено"}}},mounted(){v["eventBus"].$on(f["a"].KEYCLOAK_SUCCESS,()=>{setTimeout(()=>this.keycloakSuccess(),50)}),v["eventBus"].$on(f["a"].KEYCLOAK_FAILURE,t=>{setTimeout(()=>this.keycloakFailure(t),50)}),A["a"].getKeycloakPreferences().then(t=>{this.availableProviders=t.data.keycloakAvailableProviders})},computed:{loggedIn(){return this.$store.state.auth.status.loggedIn},providers(){return this.availableProviders},needShowProviders(){return this.providers&&this.providers.length>0}},created(){this.loggedIn&&this.$router.push("/user-info")},methods:{keycloakSuccess(){this.$router.push("/"),this.$store.dispatch("auth/loginSuccess")},keycloakFailure(t){this.$router.push("/login"),this.$store.dispatch("auth/loginFailure"),this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()},signInByProvider(t){Object(S["d"])(t)},handleLogin(t){t.username&&t.password&&(this.loading=!0,this.$validator.validateAll().then(s=>{s?this.login(t):this.loading=!1}))},changeExpiredPassword(t,s){if(t&&this.username&&s){let e=new m(this.username,t);A["a"].changeExpiredPassword(e,s).then(()=>{this.login({username:this.username,password:s})}).catch(t=>{this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}},login(t){t.username&&t.password&&(this.username=t.username,this.$store.dispatch("auth/login",t).then(()=>{this.$router.push("/")},t=>{this.loading=!1,this.passwordIsExpired=t.response&&t.response.data&&t.response.data.description&&"CredentialsExpiredException"===t.response.data.description,this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}))}}},q=I,T=(e("6d5d"),Object(P["a"])(q,l,h,!1,null,"dd37697a",null));s["default"]=T.exports},c58b:function(t,s,e){},f721:function(t,s,e){},fa32:function(t,s,e){},fd60:function(t,s,e){"use strict";e("c58b")}}]);